apiVersion: gateway.networking.k8s.io/v1beta1
kind: HTTPRoute
metadata:
  name: nginx 
  namespace: nginx
spec:
  hostnames:
  - "canary.alpha.phac.gc.ca"
  - "canary.alpha.aspc.gc.ca"
  - "canary.beta.phac-aspc.gc.ca"
  - "canary.data.phac.gc.ca"
  - "canary.ipa.aspc.gc.ca"
  - "canary.api-ipa.phac-aspc.gc.ca"
  - "canary.data-donnees.phac-aspc.gc.ca"
  - "canary.beta.phac.gc.ca"
  - "canary.beta.aspc.gc.ca"
  - "canary.alpha.phac-aspc.gc.ca"
  - "canary.api.phac.gc.ca"
  - "canary.donnees.aspc.gc.ca"
  - "canary.open.phac.gc.ca"
  - "canary.ouvert.aspc.gc.ca"
  - "canary.open-ouvert.phac-aspc.gc.ca"
  parentRefs:
  - name: xlb-gateway
    namespace: istio-system
    sectionName: http
  rules:
    - backendRefs:
      - name: nginx
        port: 8080
